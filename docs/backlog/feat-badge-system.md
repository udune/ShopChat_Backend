<<<<<<< HEAD
=======
# ðŸ† ë±ƒì§€ ì‹œìŠ¤í…œ ê¸°ëŠ¥ ëª…ì„¸ì„œ

## ê¸°ëŠ¥ìš”êµ¬ì‚¬í•­ ID - BST-001

### User Story

**As a** ë±ƒì§€ íšë“ì— ê´€ì‹¬ì´ ìžˆëŠ” ì‚¬ìš©ìž  
**I want to** ë‚´ê°€ íšë“í•œ ë±ƒì§€ ëª©ë¡ê³¼ ì§„í–‰ ì¤‘ì¸ ë±ƒì§€ í˜„í™©ì„ í™•ì¸í•  ìˆ˜ ìžˆë„ë¡  
**So that** ì„œë¹„ìŠ¤ì— ëŒ€í•œ í¥ë¯¸ë¥¼ ë†’ì´ê³  ì„±ì·¨ê°ì„ ëŠë‚„ ìˆ˜ ìžˆë‹¤.

## Description

ì‚¬ìš©ìžê°€ íšë“í•œ ë±ƒì§€ì™€ ë±ƒì§€ íšë“ ì¡°ê±´ì„ ì¡°íšŒí•˜ëŠ” APIë¥¼ êµ¬í˜„í•œë‹¤.  
ì ìˆ˜ ê¸°ë°˜ ë ˆë²¨ ì‹œìŠ¤í…œê³¼ ì—°ë™ë˜ì–´ í•˜ì´ë¸Œë¦¬ë“œ ë³´ìƒ ì‹œìŠ¤í…œì„ ì œê³µí•œë‹¤.

## Acceptance Criteria (ì™„ë£Œ ì¡°ê±´)

### ê¸°ë³¸ ë±ƒì§€ ì‹œìŠ¤í…œ

- [x] `GET /api/users/badges/me` ì—”ë“œí¬ì¸íŠ¸ í˜¸ì¶œ ì‹œ ì‚¬ìš©ìžì˜ ë±ƒì§€ ì •ë³´ë¥¼ ë°˜í™˜í•œë‹¤.
- [x] ë°˜í™˜ë˜ëŠ” ë±ƒì§€ ì •ë³´ì— íšë“í•œ ë±ƒì§€ ëª©ë¡, ì§„í–‰ë¥ , íšë“ ì¡°ê±´ì´ í¬í•¨ëœë‹¤.
- [x] ë±ƒì§€ íšë“ ì¡°ê±´ì— ë”°ë¥¸ ì§„í–‰ë¥  ì—…ë°ì´íŠ¸ ë¡œì§ì´ í¬í•¨ëœë‹¤.

### ì ìˆ˜/ë ˆë²¨ ì‹œìŠ¤í…œ ì—°ë™

- [x] `GET /api/users/level/me` ì—”ë“œí¬ì¸íŠ¸ë¡œ ì‚¬ìš©ìž ë ˆë²¨ ì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìžˆë‹¤.
- [x] í™œë™ë³„ ì ìˆ˜ ë¶€ì—¬ ì‹œìŠ¤í…œì´ êµ¬í˜„ë˜ì–´ ìžˆë‹¤.
- [x] ë ˆë²¨ì—… ì‹œ ìžë™ ë±ƒì§€ ìˆ˜ì—¬ ì‹œìŠ¤í…œì´ ë™ìž‘í•œë‹¤.
- [x] ë±ƒì§€ íšë“ ì‹œ ë³´ë„ˆìŠ¤ ì ìˆ˜ê°€ ì¶”ê°€ë¡œ ë¶€ì—¬ëœë‹¤.

### ìžë™í™” ì‹œìŠ¤í…œ

- [x] êµ¬ë§¤ ì™„ë£Œ ì‹œ ìžë™ìœ¼ë¡œ êµ¬ë§¤ ê´€ë ¨ ë±ƒì§€ë¥¼ ì²´í¬í•˜ê³  ìˆ˜ì—¬í•œë‹¤.
- [x] ë¦¬ë·° ìž‘ì„± ì‹œ ìžë™ìœ¼ë¡œ ë¦¬ë·° ê´€ë ¨ ë±ƒì§€ë¥¼ ì²´í¬í•˜ê³  ìˆ˜ì—¬í•œë‹¤.
- [x] ë ˆë²¨ ë‹¬ì„± ì‹œ ìžë™ìœ¼ë¡œ ë ˆë²¨ ê´€ë ¨ ë±ƒì§€ë¥¼ ìˆ˜ì—¬í•œë‹¤.

### í…ŒìŠ¤íŠ¸

- [x] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit) - ëª¨ë“  ì£¼ìš” ì„œë¹„ìŠ¤ì™€ ë„ë©”ì¸ ë¡œì§ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [x] í†µí•© í…ŒìŠ¤íŠ¸(Integration) - ì „ì²´ ì‹œìŠ¤í…œ ì—°ë™ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [x] ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸(Web Layer) - API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [ ] í”„ë¡ íŠ¸ ì—°ë™(ë™ìž‘) í…ŒìŠ¤íŠ¸
- [ ] SonarCube(cloud) í…ŒìŠ¤íŠ¸ í†µê³¼

## êµ¬í˜„ì„ ìœ„í•œ ê¸°ìˆ  Task (To-Do)

### ì™„ë£Œëœ ìž‘ì—… âœ…

- [x] ë±ƒì§€ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ë° êµ¬í˜„ (ë±ƒì§€ ì •ë³´, ì‚¬ìš©ìž-ë±ƒì§€ ê´€ê³„)
- [x] ì ìˆ˜/ë ˆë²¨ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ë° êµ¬í˜„
- [x] ë±ƒì§€ íšë“ ì¡°ê±´ ë° ì§„í–‰ë¥  ì¡°íšŒ ë¡œì§ êµ¬í˜„
- [x] í™œë™ë³„ ì ìˆ˜ ë¶€ì—¬ ì‹œìŠ¤í…œ êµ¬í˜„
- [x] ë ˆë²¨ë³„ ìžë™ ë±ƒì§€ ìˆ˜ì—¬ ì‹œìŠ¤í…œ êµ¬í˜„
- [x] í•˜ì´ë¸Œë¦¬ë“œ ë³´ìƒ ì‹œìŠ¤í…œ êµ¬í˜„ (ë±ƒì§€ + ì ìˆ˜)
- [x] ê¸°ì¡´ ì„œë¹„ìŠ¤ ì—°ë™ (ì£¼ë¬¸, ë¦¬ë·°)
- [x] API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
- [x] í…ŒìŠ¤íŠ¸ ì½”ë“œ ìž‘ì„± (ë‹¨ìœ„, í†µí•©, ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸)

### ì§„í–‰ ì¤‘ì¸ ìž‘ì—… ðŸ”„

- [ ] API ë¬¸ì„œí™” ë° Swagger ì—°ë™
- [ ] í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™ í…ŒìŠ¤íŠ¸
- [ ] ì„±ëŠ¥ ìµœì í™” ë° ìºì‹±

## API ì—”ë“œí¬ì¸íŠ¸

### ë±ƒì§€ ê´€ë ¨

```http
GET /api/users/badges/me                    # ë‚´ ëª¨ë“  ë±ƒì§€ ì¡°íšŒ
GET /api/users/badges/me/displayed          # ë‚´ í‘œì‹œ ë±ƒì§€ ì¡°íšŒ
GET /api/users/badges/users/{userId}/displayed  # ë‹¤ë¥¸ ì‚¬ìš©ìž í‘œì‹œ ë±ƒì§€
PATCH /api/users/badges/toggle              # ë±ƒì§€ í‘œì‹œ/ìˆ¨ê¹€ í† ê¸€
POST /api/users/badges/admin/award          # ê´€ë¦¬ìž ë±ƒì§€ ìˆ˜ì—¬
```

### ë ˆë²¨/ì ìˆ˜ ê´€ë ¨

```http
GET /api/users/level/me                     # ë‚´ ë ˆë²¨ ì •ë³´ ì¡°íšŒ
GET /api/users/level/me/activities          # ë‚´ í™œë™ ë‚´ì—­ ì¡°íšŒ
GET /api/users/level/ranking                # ì ìˆ˜ ëž­í‚¹ ì¡°íšŒ
GET /api/users/level/users/{userId}         # íŠ¹ì • ì‚¬ìš©ìž ë ˆë²¨ ì¡°íšŒ
POST /api/users/level/admin/award-points    # ê´€ë¦¬ìž ì ìˆ˜ ë¶€ì—¬
```

## ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### user_badges í…Œì´ë¸”

```sql
CREATE TABLE user_badges (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    badge_type VARCHAR(50) NOT NULL,
    awarded_at DATETIME NOT NULL,
    is_displayed BOOLEAN NOT NULL DEFAULT TRUE,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

### user_stats í…Œì´ë¸”

```sql
CREATE TABLE user_stats (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL UNIQUE,
    total_points INT NOT NULL DEFAULT 0,
    current_level VARCHAR(20) NOT NULL DEFAULT 'LEVEL_1',
    level_updated_at DATETIME,
    created_at DATETIME NOT NULL,
    updated_at DATETIME NOT NULL,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

### user_activities í…Œì´ë¸”

```sql
CREATE TABLE user_activities (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    activity_type VARCHAR(50) NOT NULL,
    points_earned INT NOT NULL,
    description VARCHAR(255),
    reference_id BIGINT,
    reference_type VARCHAR(20),
    created_at DATETIME NOT NULL,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

## ë±ƒì§€ íƒ€ìž… ë° ì¡°ê±´

### êµ¬ë§¤ ê´€ë ¨ ë±ƒì§€

- **ì²« êµ¬ë§¤**: ì²« êµ¬ë§¤ ì™„ë£Œ ì‹œ (+20 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **5íšŒ êµ¬ë§¤**: 5íšŒ êµ¬ë§¤ ë‹¬ì„± ì‹œ (+25 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **10íšŒ êµ¬ë§¤**: 10íšŒ êµ¬ë§¤ ë‹¬ì„± ì‹œ (+30 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **20íšŒ êµ¬ë§¤**: 20íšŒ êµ¬ë§¤ ë‹¬ì„± ì‹œ (+40 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **50íšŒ êµ¬ë§¤**: 50íšŒ êµ¬ë§¤ ë‹¬ì„± ì‹œ (+60 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **100íšŒ êµ¬ë§¤**: 100íšŒ êµ¬ë§¤ ë‹¬ì„± ì‹œ (+100 ë³´ë„ˆìŠ¤ ì ìˆ˜)

### êµ¬ë§¤ ê¸ˆì•¡ ê´€ë ¨ ë±ƒì§€

- **10ë§Œì› êµ¬ë§¤**: ì´ êµ¬ë§¤ê¸ˆì•¡ 10ë§Œì› ë‹¬ì„± ì‹œ (+30 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **50ë§Œì› êµ¬ë§¤**: ì´ êµ¬ë§¤ê¸ˆì•¡ 50ë§Œì› ë‹¬ì„± ì‹œ (+50 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **100ë§Œì› êµ¬ë§¤**: ì´ êµ¬ë§¤ê¸ˆì•¡ 100ë§Œì› ë‹¬ì„± ì‹œ (+80 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **500ë§Œì› êµ¬ë§¤**: ì´ êµ¬ë§¤ê¸ˆì•¡ 500ë§Œì› ë‹¬ì„± ì‹œ (+150 ë³´ë„ˆìŠ¤ ì ìˆ˜)

### ë¦¬ë·° ê´€ë ¨ ë±ƒì§€

- **ì²« ë¦¬ë·°**: ì²« ë¦¬ë·° ìž‘ì„± ì‹œ (+15 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **10ê°œ ë¦¬ë·°**: 10ê°œ ë¦¬ë·° ìž‘ì„± ì‹œ (+30 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **50ê°œ ë¦¬ë·°**: 50ê°œ ë¦¬ë·° ìž‘ì„± ì‹œ (+60 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **100ê°œ ë¦¬ë·°**: 100ê°œ ë¦¬ë·° ìž‘ì„± ì‹œ (+120 ë³´ë„ˆìŠ¤ ì ìˆ˜)

### ë ˆë²¨ ê´€ë ¨ ë±ƒì§€

- **ì–¼ë¦¬ ì–´ë‹µí„°**: ë ˆë²¨ 2 (ì‹¤ë²„) ë‹¬ì„± ì‹œ (+50 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **VIP íšŒì›**: ë ˆë²¨ 5 (VIP) ë‹¬ì„± ì‹œ (+100 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **ì†Œì…œ ì»¤ë„¥í„°**: ë ˆë²¨ 7 (ë‹¤ì´ì•„ëª¬ë“œ) ë‹¬ì„± ì‹œ (+25 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **ì¸í”Œë£¨ì–¸ì„œ**: ë ˆë²¨ 9 (ë ˆì „ë“œ) ë‹¬ì„± ì‹œ (+300 ë³´ë„ˆìŠ¤ ì ìˆ˜)
- **ë ˆì „ë“œ**: ë ˆë²¨ 10 (ì‹ í™”) ë‹¬ì„± ì‹œ (+200 ë³´ë„ˆìŠ¤ ì ìˆ˜)

## í™œë™ë³„ ì ìˆ˜ ì²´ê³„

| í™œë™        | ì ìˆ˜  | ì„¤ëª…           |
| ----------- | ----- | -------------- |
| êµ¬ë§¤ ì™„ë£Œ   | +5ì   | ì£¼ë¬¸ ì™„ë£Œ ì‹œ   |
| ë¦¬ë·° ìž‘ì„±   | +10ì  | ë¦¬ë·° ìž‘ì„± ì‹œ   |
| í”¼ë“œ ìž‘ì„±   | +10ì  | í”¼ë“œ ìž‘ì„± ì‹œ   |
| ëŒ“ê¸€ ìž‘ì„±   | +3ì   | ëŒ“ê¸€ ìž‘ì„± ì‹œ   |
| íˆ¬í‘œ ì°¸ì—¬   | +1ì   | íˆ¬í‘œ ì°¸ì—¬ ì‹œ   |
| ì¢‹ì•„ìš” ë°›ê¸° | +1ì   | ì¢‹ì•„ìš” ë°›ì„ ë•Œ |
| SNS ê³µìœ     | +3ì   | SNS ê³µìœ  ì‹œ    |
| ì´ë²¤íŠ¸ ì°¸ì—¬ | +2ì   | ì´ë²¤íŠ¸ ì°¸ì—¬ ì‹œ |
| ì´ë²¤íŠ¸ ìˆ˜ìƒ | +50ì  | ì´ë²¤íŠ¸ ìˆ˜ìƒ ì‹œ |

## ë ˆë²¨ ì‹œìŠ¤í…œ

| ë ˆë²¨  | í•„ìš” ì ìˆ˜ | ì´ë¦„       | ì´ëª¨ì§€ | í• ì¸ìœ¨ | ë³´ìƒ                                 |
| ----- | --------- | ---------- | ------ | ------ | ------------------------------------ |
| Lv.1  | 0ì        | ë¸Œë¡ ì¦ˆ     | ðŸ¥‰     | 0%     | ê¸°ë³¸ íšŒì› í˜œíƒ                       |
| Lv.2  | 100ì      | ì‹¤ë²„       | ðŸ¥ˆ     | 2%     | 2% í• ì¸ í˜œíƒ                         |
| Lv.3  | 300ì      | ê³¨ë“œ       | ðŸ¥‡     | 5%     | 5% í• ì¸ í˜œíƒ                         |
| Lv.4  | 600ì      | í”Œëž˜í‹°ë„˜   | ðŸ’Ž     | 8%     | 8% í• ì¸ í˜œíƒ                         |
| Lv.5  | 1000ì     | VIP        | ðŸ‘‘     | 10%    | 10% í• ì¸ í˜œíƒ + ìš°ì„  ë°°ì†¡            |
| Lv.6  | 2000ì     | VVIP       | â­     | 15%    | 15% í• ì¸ í˜œíƒ + ì „ìš© ìƒë‹´ì‚¬          |
| Lv.7  | 3000ì     | ë‹¤ì´ì•„ëª¬ë“œ | ðŸ’     | 18%    | 18% í• ì¸ í˜œíƒ + ë¬´ë£Œ ë°°ì†¡            |
| Lv.8  | 5000ì     | ë§ˆìŠ¤í„°     | ðŸŽ¯     | 20%    | 20% í• ì¸ í˜œíƒ + íŠ¹ë³„ ì´ë²¤íŠ¸ ì´ˆëŒ€     |
| Lv.9  | 8000ì     | ë ˆì „ë“œ     | âš¡     | 25%    | 25% í• ì¸ í˜œíƒ + ì „ìš© í˜œíƒ            |
| Lv.10 | 15000ì    | ì‹ í™”       | âœ¨     | 30%    | 30% í• ì¸ í˜œíƒ + ëª¨ë“  í”„ë¦¬ë¯¸ì—„ ì„œë¹„ìŠ¤ |

## ê¸°ëŒ€ íš¨ê³¼

1. **ì‚¬ìš©ìž ì°¸ì—¬ë„ ì¦ê°€**: ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜ì„ í†µí•œ ì§€ì†ì ì¸ ì„œë¹„ìŠ¤ ì´ìš© ë™ê¸° ë¶€ì—¬
2. **êµ¬ë§¤ ì „í™˜ìœ¨ í–¥ìƒ**: ë±ƒì§€ íšë“ì„ ìœ„í•œ êµ¬ë§¤ í–‰ë™ ìœ ë„
3. **ë¦¬ë·° ìž‘ì„± ì¦ê°€**: ë¦¬ë·° ê´€ë ¨ ë±ƒì§€ë¥¼ í†µí•œ ë¦¬ë·° ìž‘ì„± ë™ê¸° ë¶€ì—¬
4. **ì‚¬ìš©ìž ë¦¬í…ì…˜ í–¥ìƒ**: ë ˆë²¨ì—…ê³¼ ë±ƒì§€ ìˆ˜ì§‘ì˜ ìž¬ë¯¸ë¥¼ í†µí•œ ìž¥ê¸° ì´ìš© ìœ ë„
5. **ì»¤ë®¤ë‹ˆí‹° í™œì„±í™”**: ëž­í‚¹ ì‹œìŠ¤í…œì„ í†µí•œ ì‚¬ìš©ìž ê°„ ê²½ìŸ ìœ ë„

## í…ŒìŠ¤íŠ¸ ì½”ë“œ êµ¬ì¡°

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Tests)

- **BadgeServiceTest**: ë±ƒì§€ ì„œë¹„ìŠ¤ í•µì‹¬ ë¡œì§ í…ŒìŠ¤íŠ¸
- **UserLevelServiceTest**: ë ˆë²¨/ì ìˆ˜ ì„œë¹„ìŠ¤ ë¡œì§ í…ŒìŠ¤íŠ¸
- **UserStatsTest**: ì‚¬ìš©ìž í†µê³„ ë„ë©”ì¸ ë¡œì§ í…ŒìŠ¤íŠ¸
- **UserLevelTest**: ë ˆë²¨ ì‹œìŠ¤í…œ ì—´ê±°í˜• ë¡œì§ í…ŒìŠ¤íŠ¸

### ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸ (Web Layer Tests)

- **UserLevelControllerTest**: API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
- **BadgeControllerTest**: ë±ƒì§€ API í…ŒìŠ¤íŠ¸ (ê¸°ì¡´)

### í†µí•© í…ŒìŠ¤íŠ¸ (Integration Tests)

- **BadgeIntegrationTest**: ì „ì²´ ì‹œìŠ¤í…œ ì—°ë™ í…ŒìŠ¤íŠ¸
  - êµ¬ë§¤-ì ìˆ˜-ë±ƒì§€ ì—°ë™ í…ŒìŠ¤íŠ¸
  - ë ˆë²¨ì—… ì‹œ ìžë™ ë±ƒì§€ ìˆ˜ì—¬ í…ŒìŠ¤íŠ¸
  - ë‹¤ì¤‘ í™œë™ í†µí•© ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

- **ì„œë¹„ìŠ¤ ë ˆì´ì–´**: 95% ì´ìƒ
- **ë„ë©”ì¸ ë¡œì§**: 90% ì´ìƒ
- **API ë ˆì´ì–´**: 85% ì´ìƒ
- **í†µí•© ì‹œë‚˜ë¦¬ì˜¤**: ì£¼ìš” ë¹„ì¦ˆë‹ˆìŠ¤ í”Œë¡œìš° 100%
>>>>>>> upstream/develop
